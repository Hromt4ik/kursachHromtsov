{% extends 'base.html' %}
{%load static %}
{% block title %}Услуги{% endblock title %}

{% block content %}
<main>
  <div class="container">
      <h2 style="text-align: center; margin-bottom: 20px;">Услуги</h2>
      <img class="loader" src="{% static "image/loader.png" %}" alt="грузчик">
      <div class="serv">
          <h3>Отследить Посылку</h3>
          <div class="serv-1">
            <label>Номер посылки:</label>
            <input class="check" type="text">
            <button class="check-bottom" type="submit">Отследить</button>
          </div>
          <div class="results"></div>
          <img class="boxquestion" src="{% static "image/boxquestion.png" %}" alt="кубик">
      </div>
      <div class="serv">
          <h3>Расчитать стоимость</h3>
      </div>
      <div class="serv">
          <h3>Создать заявку на перевозку</h3>
      </div>
  </div>
</main>
<script>
document.querySelector('.check-bottom').addEventListener('click', function(e) {
    e.preventDefault();
    var packageId = document.querySelector('.check').value;
    fetch(/path-to-your-view/?id=${packageId})
        .then(response => response.json())
        .then(data => {
             let content =
        <p>Вес: ${data.weight}</p>
    ;
            document.querySelector('.results').innerHTML = data.message;
        })
        .catch(error => console.log(error));
});
</script>
{% endblock %}